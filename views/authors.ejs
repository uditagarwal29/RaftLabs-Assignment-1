<link type="text/css" rel="stylesheet" href="/css/authors.css">
<div id="author-container">
    <h1>Authors</h1>
    <div class="options">
        <a href="/books/">Books</a>
        <a href="/magazines">Magazines</a>
        <a href="/authors">Authors</a>
    </div>

    <h3>Add an Author</h3>
    <form class="add-author" action="/authors/add" method="POST">
        <input type="email" name="email" placeholder="Enter Email" required>
        <input type="text" name="firstname" placeholder="Enter Firstname" required>
        <input type="text" name="lastname" placeholder="Enter Lastname" required>
        <button type="submit">Add Author</button>
    </form>

    <h3>Search Author</h3>
    <form class="search-author" action="/authors/search" method="POST">
        <input type="text" name="email" placeholder="Enter Author's Email" required>
        <button type="submit">Search Author</button>
    </form>



    <h2 class="notfound">
        <%= searchResStatus %>
    </h2>
    <% if(searchRes.length!=0) { %>
        <table class="authors-table">
            <tr class="authors-cols">
                <th>Title</th>
                <th>ISBN</th>
                <th>Authors</th>
            </tr>

            <tbody id="author-table-content">
                <tr>
                    <td>
                        <%= searchRes[0].email %>
                    </td>
                    <td>
                        <%= searchRes[0].firstname %>
                    </td>
                    <td>
                        <%= searchRes[0].lastname%>
                    </td>
                </tr>

            </tbody>
        </table>
        <% } %>

            <h1>All Authors</h1>
            <a class="exportcsv" href="/authors/export">Download CSV</a>


            <table class="authors-table">
                <tr class="authors-cols">
                    <th>Email</th>
                    <th>First Name</th>
                    <th>Last Name</th>
                </tr>

                <tbody id="authors-table-content">
                    <% for( let i=0; i < authors.length; i++ ) { %>
                        <tr>
                            <td>
                                <%= authors[i].email %>
                            </td>
                            <td>
                                <%= authors[i].firstname %>
                            </td>
                            <td>
                                <%= authors[i].lastname %>
                            </td>
                        </tr>
                        <% } %>
                </tbody>
            </table>
</div>